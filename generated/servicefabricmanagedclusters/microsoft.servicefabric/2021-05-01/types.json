[{"1":{"Kind":1}},{"1":{"Kind":2}},{"1":{"Kind":3}},{"1":{"Kind":4}},{"1":{"Kind":5}},{"1":{"Kind":6}},{"1":{"Kind":7}},{"1":{"Kind":8}},{"6":{"Value":"2021-05-01"}},{"3":{"ItemType":7}},{"6":{"Value":"Microsoft.ServiceFabric/managedclusters/applicationTypes"}},{"2":{"Name":"Microsoft.ServiceFabric/managedclusters/applicationTypes","Properties":{"id":{"Type":4,"Flags":10,"Description":"The resource id"},"name":{"Type":4,"Flags":9,"Description":"The resource name"},"type":{"Type":10,"Flags":10,"Description":"The resource type"},"apiVersion":{"Type":8,"Flags":10,"Description":"The resource api version"},"location":{"Type":4,"Flags":0,"Description":"Resource location depends on the parent resource."},"tags":{"Type":12,"Flags":0,"Description":"Azure resource tags."},"systemData":{"Type":13,"Flags":0,"Description":"Metadata pertaining to creation and last modification of the resource."},"properties":{"Type":14,"Flags":0,"Description":"The application type name properties"}}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"SystemData","Properties":{"createdBy":{"Type":4,"Flags":0,"Description":"The identity that created the resource."},"createdByType":{"Type":4,"Flags":0,"Description":"The type of identity that created the resource."},"createdAt":{"Type":4,"Flags":0,"Description":"The timestamp of resource creation (UTC)."},"lastModifiedBy":{"Type":4,"Flags":0,"Description":"The identity that last modified the resource."},"lastModifiedByType":{"Type":4,"Flags":0,"Description":"The type of identity that last modified the resource."},"lastModifiedAt":{"Type":4,"Flags":0,"Description":"The timestamp of resource last modification (UTC)."}}}},{"2":{"Name":"ApplicationTypeResourceProperties","Properties":{"provisioningState":{"Type":4,"Flags":2,"Description":"The current deployment or provisioning state, which only appears in the response."}}}},{"4":{"Name":"Microsoft.ServiceFabric/managedclusters/applicationTypes@2021-05-01","ScopeType":8,"Body":11}},{"6":{"Value":"Microsoft.ServiceFabric/managedclusters/applicationTypes/versions"}},{"2":{"Name":"Microsoft.ServiceFabric/managedclusters/applicationTypes/versions","Properties":{"id":{"Type":4,"Flags":10,"Description":"The resource id"},"name":{"Type":4,"Flags":9,"Description":"The resource name"},"type":{"Type":16,"Flags":10,"Description":"The resource type"},"apiVersion":{"Type":8,"Flags":10,"Description":"The resource api version"},"location":{"Type":4,"Flags":0,"Description":"Resource location depends on the parent resource."},"tags":{"Type":18,"Flags":0,"Description":"Azure resource tags."},"systemData":{"Type":13,"Flags":0,"Description":"Metadata pertaining to creation and last modification of the resource."},"properties":{"Type":19,"Flags":0,"Description":"The properties of the application type version resource."}}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"ApplicationTypeVersionResourceProperties","Properties":{"provisioningState":{"Type":4,"Flags":2,"Description":"The current deployment or provisioning state, which only appears in the response"},"appPackageUrl":{"Type":4,"Flags":1,"Description":"The URL to the application package"}}}},{"4":{"Name":"Microsoft.ServiceFabric/managedclusters/applicationTypes/versions@2021-05-01","ScopeType":8,"Body":17}},{"6":{"Value":"Microsoft.ServiceFabric/managedclusters/applications"}},{"2":{"Name":"Microsoft.ServiceFabric/managedclusters/applications","Properties":{"id":{"Type":4,"Flags":10,"Description":"The resource id"},"name":{"Type":4,"Flags":9,"Description":"The resource name"},"type":{"Type":21,"Flags":10,"Description":"The resource type"},"apiVersion":{"Type":8,"Flags":10,"Description":"The resource api version"},"location":{"Type":4,"Flags":0,"Description":"Resource location depends on the parent resource."},"tags":{"Type":23,"Flags":0,"Description":"Azure resource tags."},"systemData":{"Type":13,"Flags":0,"Description":"Metadata pertaining to creation and last modification of the resource."},"identity":{"Type":24,"Flags":0,"Description":"Describes the managed identities for an Azure resource."},"properties":{"Type":32,"Flags":0,"Description":"The application resource properties."}}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"ManagedIdentity","Properties":{"principalId":{"Type":4,"Flags":2,"Description":"The principal id of the managed identity. This property will only be provided for a system assigned identity."},"tenantId":{"Type":4,"Flags":2,"Description":"The tenant id of the managed identity. This property will only be provided for a system assigned identity."},"type":{"Type":29,"Flags":0},"userAssignedIdentities":{"Type":31,"Flags":0,"Description":"The list of user identities associated with the resource. The user identity dictionary key references will be ARM resource ids in the form:\n\u0027/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}\u0027."}}}},{"6":{"Value":"None"}},{"6":{"Value":"SystemAssigned"}},{"6":{"Value":"UserAssigned"}},{"6":{"Value":"SystemAssigned, UserAssigned"}},{"5":{"Elements":[25,26,27,28]}},{"2":{"Name":"UserAssignedIdentity","Properties":{"principalId":{"Type":4,"Flags":2,"Description":"The principal id of user assigned identity."},"clientId":{"Type":4,"Flags":2,"Description":"The client id of user assigned identity."}}}},{"2":{"Name":"Dictionary\u003Cstring,UserAssignedIdentity\u003E","Properties":{},"AdditionalProperties":30}},{"2":{"Name":"ApplicationResourceProperties","Properties":{"provisioningState":{"Type":4,"Flags":2,"Description":"The current deployment or provisioning state, which only appears in the response"},"version":{"Type":4,"Flags":0,"Description":"The version of the application type as defined in the application manifest.\nThis name must be the full Arm Resource ID for the referenced application type version."},"parameters":{"Type":33,"Flags":0,"Description":"List of application parameters with overridden values from their default values specified in the application manifest."},"upgradePolicy":{"Type":34,"Flags":0,"Description":"Describes the policy for a monitored application upgrade."},"managedIdentities":{"Type":46,"Flags":0,"Description":"List of user assigned identities for the application, each mapped to a friendly name."}}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"ApplicationUpgradePolicy","Properties":{"applicationHealthPolicy":{"Type":35,"Flags":0,"Description":"Defines a health policy used to evaluate the health of an application or one of its children entities."},"forceRestart":{"Type":2,"Flags":0,"Description":"If true, then processes are forcefully restarted during upgrade even when the code version has not changed (the upgrade only changes configuration or data)."},"rollingUpgradeMonitoringPolicy":{"Type":38,"Flags":0,"Description":"The policy used for monitoring the application upgrade"},"instanceCloseDelayDuration":{"Type":3,"Flags":0,"Description":"Duration in seconds, to wait before a stateless instance is closed, to allow the active requests to drain gracefully. This would be effective when the instance is closing during the application/cluster upgrade, only for those instances which have a non-zero delay duration configured in the service description."},"upgradeMode":{"Type":44,"Flags":0},"upgradeReplicaSetCheckTimeout":{"Type":3,"Flags":0,"Description":"The maximum amount of time to block processing of an upgrade domain and prevent loss of availability when there are unexpected issues. When this timeout expires, processing of the upgrade domain will proceed regardless of availability loss issues. The timeout is reset at the start of each upgrade domain. Valid values are between 0 and 42949672925 inclusive. (unsigned 32-bit integer)."},"recreateApplication":{"Type":2,"Flags":0,"Description":"Determines whether the application should be recreated on update. If value=true, the rest of the upgrade policy parameters are not allowed."}}}},{"2":{"Name":"ApplicationHealthPolicy","Properties":{"considerWarningAsError":{"Type":2,"Flags":1,"Description":"Indicates whether warnings are treated with the same severity as errors."},"maxPercentUnhealthyDeployedApplications":{"Type":3,"Flags":1,"Description":"The maximum allowed percentage of unhealthy deployed applications. Allowed values are Byte values from zero to 100.\nThe percentage represents the maximum tolerated percentage of deployed applications that can be unhealthy before the application is considered in error.\nThis is calculated by dividing the number of unhealthy deployed applications over the number of nodes where the application is currently deployed on in the cluster.\nThe computation rounds up to tolerate one failure on small numbers of nodes. Default percentage is zero."},"defaultServiceTypeHealthPolicy":{"Type":36,"Flags":0,"Description":"Represents the health policy used to evaluate the health of services belonging to a service type."},"serviceTypeHealthPolicyMap":{"Type":37,"Flags":0,"Description":"Defines a ServiceTypeHealthPolicy per service type name.\n\nThe entries in the map replace the default service type health policy for each specified service type.\nFor example, in an application that contains both a stateless gateway service type and a stateful engine service type, the health policies for the stateless and stateful services can be configured differently.\nWith policy per service type, there\u0027s more granular control of the health of the service.\n\nIf no policy is specified for a service type name, the DefaultServiceTypeHealthPolicy is used for evaluation."}}}},{"2":{"Name":"ServiceTypeHealthPolicy","Properties":{"maxPercentUnhealthyServices":{"Type":3,"Flags":1,"Description":"The maximum allowed percentage of unhealthy services.\n\nThe percentage represents the maximum tolerated percentage of services that can be unhealthy before the application is considered in error.\nIf the percentage is respected but there is at least one unhealthy service, the health is evaluated as Warning.\nThis is calculated by dividing the number of unhealthy services of the specific service type over the total number of services of the specific service type.\nThe computation rounds up to tolerate one failure on small numbers of services."},"maxPercentUnhealthyPartitionsPerService":{"Type":3,"Flags":1,"Description":"The maximum allowed percentage of unhealthy partitions per service.\n\nThe percentage represents the maximum tolerated percentage of partitions that can be unhealthy before the service is considered in error.\nIf the percentage is respected but there is at least one unhealthy partition, the health is evaluated as Warning.\nThe percentage is calculated by dividing the number of unhealthy partitions over the total number of partitions in the service.\nThe computation rounds up to tolerate one failure on small numbers of partitions."},"maxPercentUnhealthyReplicasPerPartition":{"Type":3,"Flags":1,"Description":"The maximum allowed percentage of unhealthy replicas per partition.\n\nThe percentage represents the maximum tolerated percentage of replicas that can be unhealthy before the partition is considered in error.\nIf the percentage is respected but there is at least one unhealthy replica, the health is evaluated as Warning.\nThe percentage is calculated by dividing the number of unhealthy replicas over the total number of replicas in the partition.\nThe computation rounds up to tolerate one failure on small numbers of replicas."}}}},{"2":{"Name":"Dictionary\u003Cstring,ServiceTypeHealthPolicy\u003E","Properties":{},"AdditionalProperties":36}},{"2":{"Name":"RollingUpgradeMonitoringPolicy","Properties":{"failureAction":{"Type":41,"Flags":1,"Description":"The compensating action to perform when a Monitored upgrade encounters monitoring policy or health policy violations. Invalid indicates the failure action is invalid. Rollback specifies that the upgrade will start rolling back automatically. Manual indicates that the upgrade will switch to UnmonitoredManual upgrade mode."},"healthCheckWaitDuration":{"Type":4,"Flags":1,"Description":"The amount of time to wait after completing an upgrade domain before applying health policies. It is interpreted as a string representing an ISO 8601 duration with following format \u0022hh:mm:ss.fff\u0022."},"healthCheckStableDuration":{"Type":4,"Flags":1,"Description":"The amount of time that the application or cluster must remain healthy before the upgrade proceeds to the next upgrade domain. It is interpreted as a string representing an ISO 8601 duration with following format \u0022hh:mm:ss.fff\u0022."},"healthCheckRetryTimeout":{"Type":4,"Flags":1,"Description":"The amount of time to retry health evaluation when the application or cluster is unhealthy before FailureAction is executed. It is interpreted as a string representing an ISO 8601 duration with following format \u0022hh:mm:ss.fff\u0022."},"upgradeTimeout":{"Type":4,"Flags":1,"Description":"The amount of time the overall upgrade has to complete before FailureAction is executed. Cannot be larger than 12 hours. It is interpreted as a string representing an ISO 8601 duration with following format \u0022hh:mm:ss.fff\u0022."},"upgradeDomainTimeout":{"Type":4,"Flags":1,"Description":"The amount of time each upgrade domain has to complete before FailureAction is executed. Cannot be larger than 12 hours. It is interpreted as a string representing an ISO 8601 duration with following format \u0022hh:mm:ss.fff\u0022."}}}},{"6":{"Value":"Rollback"}},{"6":{"Value":"Manual"}},{"5":{"Elements":[39,40]}},{"6":{"Value":"Monitored"}},{"6":{"Value":"UnmonitoredAuto"}},{"5":{"Elements":[42,43]}},{"2":{"Name":"ApplicationUserAssignedIdentity","Properties":{"name":{"Type":4,"Flags":1,"Description":"The friendly name of user assigned identity."},"principalId":{"Type":4,"Flags":1,"Description":"The principal id of user assigned identity."}}}},{"3":{"ItemType":45}},{"4":{"Name":"Microsoft.ServiceFabric/managedclusters/applications@2021-05-01","ScopeType":8,"Body":22}},{"6":{"Value":"Microsoft.ServiceFabric/managedclusters/applications/services"}},{"2":{"Name":"Microsoft.ServiceFabric/managedclusters/applications/services","Properties":{"id":{"Type":4,"Flags":10,"Description":"The resource id"},"name":{"Type":4,"Flags":9,"Description":"The resource name"},"type":{"Type":48,"Flags":10,"Description":"The resource type"},"apiVersion":{"Type":8,"Flags":10,"Description":"The resource api version"},"location":{"Type":4,"Flags":0,"Description":"Resource location depends on the parent resource."},"tags":{"Type":50,"Flags":0,"Description":"Azure resource tags."},"systemData":{"Type":13,"Flags":0,"Description":"Metadata pertaining to creation and last modification of the resource."},"properties":{"Type":51,"Flags":0,"Description":"The service resource properties."}}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"7":{"Name":"ServiceResourceProperties","Discriminator":"serviceKind","BaseProperties":{"placementConstraints":{"Type":4,"Flags":0,"Description":"The placement constraints as a string. Placement constraints are boolean expressions on node properties and allow for restricting a service to particular nodes based on the service requirements. For example, to place a service on nodes where NodeType is blue specify the following: \u0022NodeColor == blue)\u0022."},"correlationScheme":{"Type":56,"Flags":0,"Description":"A list that describes the correlation of the service with other services."},"serviceLoadMetrics":{"Type":63,"Flags":0,"Description":"The service load metrics is given as an array of ServiceLoadMetric objects."},"servicePlacementPolicies":{"Type":75,"Flags":0,"Description":"A list that describes the correlation of the service with other services."},"defaultMoveCost":{"Type":80,"Flags":0},"scalingPolicies":{"Type":92,"Flags":0,"Description":"Scaling policies for this service."},"provisioningState":{"Type":4,"Flags":2,"Description":"The current deployment or provisioning state, which only appears in the response"},"serviceTypeName":{"Type":4,"Flags":1,"Description":"The name of the service type"},"partitionDescription":{"Type":93,"Flags":1,"Description":"Describes how the service is partitioned."},"servicePackageActivationMode":{"Type":103,"Flags":0,"Description":"The activation Mode of the service package."}},"Elements":{"Stateful":104,"Stateless":106}}},{"2":{"Name":"ServiceCorrelation","Properties":{"scheme":{"Type":55,"Flags":1,"Description":"The ServiceCorrelationScheme which describes the relationship between this service and the service specified via ServiceName."},"serviceName":{"Type":4,"Flags":1,"Description":"The full ARM Resource ID describing the service resource"}}}},{"6":{"Value":"AlignedAffinity"}},{"6":{"Value":"NonAlignedAffinity"}},{"5":{"Elements":[53,54]}},{"3":{"ItemType":52}},{"2":{"Name":"ServiceLoadMetric","Properties":{"name":{"Type":4,"Flags":1,"Description":"The name of the metric. If the service chooses to report load during runtime, the load metric name should match the name that is specified in Name exactly. Note that metric names are case sensitive."},"weight":{"Type":62,"Flags":0,"Description":"The service load metric relative weight, compared to other metrics configured for this service, as a number."},"primaryDefaultLoad":{"Type":3,"Flags":0,"Description":"Used only for Stateful services. The default amount of load, as a number, that this service creates for this metric when it is a Primary replica."},"secondaryDefaultLoad":{"Type":3,"Flags":0,"Description":"Used only for Stateful services. The default amount of load, as a number, that this service creates for this metric when it is a Secondary replica."},"defaultLoad":{"Type":3,"Flags":0,"Description":"Used only for Stateless services. The default amount of load, as a number, that this service creates for this metric."}}}},{"6":{"Value":"Zero"}},{"6":{"Value":"Low"}},{"6":{"Value":"Medium"}},{"6":{"Value":"High"}},{"5":{"Elements":[58,59,60,61]}},{"3":{"ItemType":57}},{"7":{"Name":"ServicePlacementPolicy","Discriminator":"type","BaseProperties":{},"Elements":{"InvalidDomain":65,"NonPartiallyPlaceService":67,"PreferredPrimaryDomain":69,"RequiredDomain":71,"RequiredDomainDistribution":73}}},{"2":{"Name":"InvalidDomain","Properties":{"domainName":{"Type":4,"Flags":1,"Description":"The name of the domain that should not be used for placement."},"type":{"Type":66,"Flags":1,"Description":"Describes the policy to be used for placement of a Service Fabric service where a particular fault or upgrade domain should not be used for placement of the instances or replicas of that service."}}}},{"6":{"Value":"InvalidDomain"}},{"2":{"Name":"NonPartiallyPlaceService","Properties":{"type":{"Type":68,"Flags":1,"Description":"ServicePlacementNonPartiallyPlaceServicePolicy"}}}},{"6":{"Value":"NonPartiallyPlaceService"}},{"2":{"Name":"PreferredPrimaryDomain","Properties":{"domainName":{"Type":4,"Flags":1,"Description":"The name of the domain that should used for placement as per this policy."},"type":{"Type":70,"Flags":1,"Description":"Describes the policy to be used for placement of a Service Fabric service where the service\u0027s \nPrimary replicas should optimally be placed in a particular domain.\n\nThis placement policy is usually used with fault domains in scenarios where the Service Fabric\ncluster is geographically distributed in order to indicate that a service\u0027s primary replica should\nbe located in a particular fault domain, which in geo-distributed scenarios usually aligns with regional\nor datacenter boundaries. Note that since this is an optimization it is possible that the Primary replica\nmay not end up located in this domain due to failures, capacity limits, or other constraints."}}}},{"6":{"Value":"PreferredPrimaryDomain"}},{"2":{"Name":"RequiredDomain","Properties":{"domainName":{"Type":4,"Flags":1,"Description":"The name of the domain that should used for placement as per this policy."},"type":{"Type":72,"Flags":1,"Description":"Describes the policy to be used for placement of a Service Fabric service where the instances or replicas of that service must be placed in a particular domain."}}}},{"6":{"Value":"RequiredDomain"}},{"2":{"Name":"RequiredDomainDistribution","Properties":{"domainName":{"Type":4,"Flags":1,"Description":"The name of the domain that should used for placement as per this policy."},"type":{"Type":74,"Flags":1,"Description":"Describes the policy to be used for placement of a Service Fabric service where two replicas\nfrom the same partition should never be placed in the same fault or upgrade domain.\n\nWhile this is not common it can expose the service to an increased risk of concurrent failures\ndue to unplanned outages or other cases of subsequent/concurrent failures. As an example, consider\na case where replicas are deployed across different data center, with one replica per location.\nIn the event that one of the datacenters goes offline, normally the replica that was placed in that\ndatacenter will be packed into one of the remaining datacenters. If this is not desirable then this\npolicy should be set."}}}},{"6":{"Value":"RequiredDomainDistribution"}},{"3":{"ItemType":64}},{"6":{"Value":"Zero"}},{"6":{"Value":"Low"}},{"6":{"Value":"Medium"}},{"6":{"Value":"High"}},{"5":{"Elements":[76,77,78,79]}},{"2":{"Name":"ScalingPolicy","Properties":{"scalingMechanism":{"Type":82,"Flags":1,"Description":"Describes the mechanism for performing a scaling operation."},"scalingTrigger":{"Type":87,"Flags":1,"Description":"Describes the trigger for performing a scaling operation."}}}},{"7":{"Name":"ScalingMechanism","Discriminator":"kind","BaseProperties":{},"Elements":{"AddRemoveIncrementalNamedPartition":83,"ScalePartitionInstanceCount":85}}},{"2":{"Name":"AddRemoveIncrementalNamedPartition","Properties":{"minPartitionCount":{"Type":3,"Flags":1,"Description":"Minimum number of named partitions of the service."},"maxPartitionCount":{"Type":3,"Flags":1,"Description":"Maximum number of named partitions of the service."},"scaleIncrement":{"Type":3,"Flags":1,"Description":"The number of instances to add or remove during a scaling operation."},"kind":{"Type":84,"Flags":1,"Description":"Represents a scaling mechanism for adding or removing named partitions of a stateless service. Partition names are in the format \u00270\u0027,\u00271\u0027...\u0027N-1\u0027."}}}},{"6":{"Value":"AddRemoveIncrementalNamedPartition"}},{"2":{"Name":"ScalePartitionInstanceCount","Properties":{"minInstanceCount":{"Type":3,"Flags":1,"Description":"Minimum number of instances of the partition."},"maxInstanceCount":{"Type":3,"Flags":1,"Description":"Maximum number of instances of the partition."},"scaleIncrement":{"Type":3,"Flags":1,"Description":"The number of instances to add or remove during a scaling operation."},"kind":{"Type":86,"Flags":1,"Description":"Represents a scaling mechanism for adding or removing instances of stateless service partition."}}}},{"6":{"Value":"ScalePartitionInstanceCount"}},{"7":{"Name":"ScalingTrigger","Discriminator":"kind","BaseProperties":{},"Elements":{"AveragePartitionLoadTrigger":88,"AverageServiceLoadTrigger":90}}},{"2":{"Name":"AveragePartitionLoadTrigger","Properties":{"metricName":{"Type":4,"Flags":1,"Description":"The name of the metric for which usage should be tracked."},"lowerLoadThreshold":{"Type":3,"Flags":1,"Description":"The lower limit of the load below which a scale in operation should be performed."},"upperLoadThreshold":{"Type":3,"Flags":1,"Description":"The upper limit of the load beyond which a scale out operation should be performed."},"scaleInterval":{"Type":4,"Flags":1,"Description":"The period in seconds on which a decision is made whether to scale or not. This property should come in ISO 8601 format \u0022hh:mm:ss\u0022."},"kind":{"Type":89,"Flags":1,"Description":"Represents a scaling trigger related to an average load of a metric/resource of a partition."}}}},{"6":{"Value":"AveragePartitionLoadTrigger"}},{"2":{"Name":"AverageServiceLoadTrigger","Properties":{"metricName":{"Type":4,"Flags":1,"Description":"The name of the metric for which usage should be tracked."},"lowerLoadThreshold":{"Type":3,"Flags":1,"Description":"The lower limit of the load below which a scale in operation should be performed."},"upperLoadThreshold":{"Type":3,"Flags":1,"Description":"The upper limit of the load beyond which a scale out operation should be performed."},"scaleInterval":{"Type":4,"Flags":1,"Description":"The period in seconds on which a decision is made whether to scale or not. This property should come in ISO 8601 format \u0022hh:mm:ss\u0022."},"useOnlyPrimaryLoad":{"Type":2,"Flags":1,"Description":"Flag determines whether only the load of primary replica should be considered for scaling. If set to true, then trigger will only consider the load of primary replicas of stateful service. If set to false, trigger will consider load of all replicas. This parameter cannot be set to true for stateless service."},"kind":{"Type":91,"Flags":1,"Description":"Represents a scaling policy related to an average load of a metric/resource of a service."}}}},{"6":{"Value":"AverageServiceLoadTrigger"}},{"3":{"ItemType":81}},{"7":{"Name":"Partition","Discriminator":"partitionScheme","BaseProperties":{},"Elements":{"Named":94,"Singleton":97,"UniformInt64Range":99}}},{"2":{"Name":"Named","Properties":{"names":{"Type":95,"Flags":1,"Description":"Array for the names of the partitions."},"partitionScheme":{"Type":96,"Flags":1,"Description":"Describes the named partition scheme of the service."}}}},{"3":{"ItemType":4}},{"6":{"Value":"Named"}},{"2":{"Name":"Singleton","Properties":{"partitionScheme":{"Type":98,"Flags":1,"Description":"SingletonPartitionScheme"}}}},{"6":{"Value":"Singleton"}},{"2":{"Name":"UniformInt64Range","Properties":{"count":{"Type":3,"Flags":1,"Description":"The number of partitions."},"lowKey":{"Type":3,"Flags":1,"Description":"The lower bound of the partition key range that\nshould be split between the partition \u2018Count\u2019"},"highKey":{"Type":3,"Flags":1,"Description":"The upper bound of the partition key range that\nshould be split between the partition \u2018Count\u2019"},"partitionScheme":{"Type":100,"Flags":1,"Description":"Describes a partitioning scheme where an integer range is allocated evenly across a number of partitions."}}}},{"6":{"Value":"UniformInt64Range"}},{"6":{"Value":"SharedProcess"}},{"6":{"Value":"ExclusiveProcess"}},{"5":{"Elements":[101,102]}},{"2":{"Name":"Stateful","Properties":{"hasPersistedState":{"Type":2,"Flags":0,"Description":"A flag indicating whether this is a persistent service which stores states on the local disk. If it is then the value of this property is true, if not it is false."},"targetReplicaSetSize":{"Type":3,"Flags":0,"Description":"The target replica set size as a number."},"minReplicaSetSize":{"Type":3,"Flags":0,"Description":"The minimum replica set size as a number."},"replicaRestartWaitDuration":{"Type":4,"Flags":0,"Description":"The duration between when a replica goes down and when a new replica is created, represented in ISO 8601 format \u0022hh:mm:ss\u0022."},"quorumLossWaitDuration":{"Type":4,"Flags":0,"Description":"The maximum duration for which a partition is allowed to be in a state of quorum loss, represented in ISO 8601 format \u0022hh:mm:ss\u0022."},"standByReplicaKeepDuration":{"Type":4,"Flags":0,"Description":"The definition on how long StandBy replicas should be maintained before being removed, represented in ISO 8601 format \u0022hh:mm:ss\u0022."},"servicePlacementTimeLimit":{"Type":4,"Flags":0,"Description":"The duration for which replicas can stay InBuild before reporting that build is stuck, represented in ISO 8601 format \u0022hh:mm:ss\u0022."},"serviceKind":{"Type":105,"Flags":1,"Description":"The properties of a stateful service resource."}}}},{"6":{"Value":"Stateful"}},{"2":{"Name":"Stateless","Properties":{"instanceCount":{"Type":3,"Flags":1,"Description":"The instance count."},"minInstanceCount":{"Type":3,"Flags":0,"Description":"MinInstanceCount is the minimum number of instances that must be up to meet the EnsureAvailability safety check during operations like upgrade or deactivate node. The actual number that is used is max( MinInstanceCount, ceil( MinInstancePercentage/100.0 * InstanceCount) ). Note, if InstanceCount is set to -1, during MinInstanceCount computation -1 is first converted into the number of nodes on which the instances are allowed to be placed according to the placement constraints on the service."},"minInstancePercentage":{"Type":3,"Flags":0,"Description":"MinInstancePercentage is the minimum percentage of InstanceCount that must be up to meet the EnsureAvailability safety check during operations like upgrade or deactivate node. The actual number that is used is max( MinInstanceCount, ceil( MinInstancePercentage/100.0 * InstanceCount) ). Note, if InstanceCount is set to -1, during MinInstancePercentage computation, -1 is first converted into the number of nodes on which the instances are allowed to be placed according to the placement constraints on the service."},"serviceKind":{"Type":107,"Flags":1,"Description":"The properties of a stateless service resource."}}}},{"6":{"Value":"Stateless"}},{"4":{"Name":"Microsoft.ServiceFabric/managedclusters/applications/services@2021-05-01","ScopeType":8,"Body":49}},{"6":{"Value":"Microsoft.ServiceFabric/managedClusters"}},{"2":{"Name":"Microsoft.ServiceFabric/managedClusters","Properties":{"id":{"Type":4,"Flags":10,"Description":"The resource id"},"name":{"Type":4,"Flags":9,"Description":"The resource name"},"type":{"Type":109,"Flags":10,"Description":"The resource type"},"apiVersion":{"Type":8,"Flags":10,"Description":"The resource api version"},"location":{"Type":4,"Flags":1,"Description":"Azure resource location."},"tags":{"Type":111,"Flags":0,"Description":"Azure resource tags."},"etag":{"Type":4,"Flags":2,"Description":"Azure resource etag."},"systemData":{"Type":13,"Flags":0,"Description":"Metadata pertaining to creation and last modification of the resource."},"properties":{"Type":112,"Flags":0,"Description":"Describes the managed cluster resource properties."},"sku":{"Type":181,"Flags":0,"Description":"Service Fabric managed cluster Sku definition"}}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"ManagedClusterProperties","Properties":{"dnsName":{"Type":4,"Flags":1,"Description":"The cluster dns name."},"fqdn":{"Type":4,"Flags":2,"Description":"The fully qualified domain name associated with the public load balancer of the cluster."},"ipv4Address":{"Type":4,"Flags":2,"Description":"The IPv4 address associated with the public load balancer of the cluster."},"clusterId":{"Type":4,"Flags":2,"Description":"A service generated unique identifier for the cluster resource."},"clusterState":{"Type":119,"Flags":2,"Description":"The current state of the cluster."},"clusterCertificateThumbprints":{"Type":120,"Flags":2,"Description":"List of thumbprints of the cluster certificates."},"clientConnectionPort":{"Type":3,"Flags":0,"Description":"The port used for client connections to the cluster."},"httpGatewayConnectionPort":{"Type":3,"Flags":0,"Description":"The port used for HTTP connections to the cluster."},"adminUserName":{"Type":4,"Flags":1,"Description":"VM admin user name."},"adminPassword":{"Type":4,"Flags":0,"Description":"VM admin user password."},"loadBalancingRules":{"Type":129,"Flags":0,"Description":"Load balancing rules that are applied to the public load balancer of the cluster."},"allowRdpAccess":{"Type":2,"Flags":0,"Description":"Setting this to true enables RDP access to the VM. The default NSG rule opens RDP port to internet which can be overridden with custom Network Security Rules. The default value for this setting is false."},"networkSecurityRules":{"Type":149,"Flags":0,"Description":"Custom Network Security Rules that are applied to the virtual network of the cluster."},"clients":{"Type":151,"Flags":0,"Description":"Client certificates that are allowed to manage the cluster."},"azureActiveDirectory":{"Type":152,"Flags":0,"Description":"The settings to enable AAD authentication on the cluster."},"fabricSettings":{"Type":156,"Flags":0,"Description":"The list of custom fabric settings to configure the cluster."},"provisioningState":{"Type":167,"Flags":2,"Description":"The provisioning state of the managed cluster resource."},"clusterCodeVersion":{"Type":4,"Flags":0,"Description":"The Service Fabric runtime version of the cluster. This property is required when **clusterUpgradeMode** is set to \u0027Manual\u0027. To get list of available Service Fabric versions for new clusters use [ClusterVersion API](./ClusterVersion.md). To get the list of available version for existing clusters use **availableClusterVersions**."},"clusterUpgradeMode":{"Type":170,"Flags":0},"clusterUpgradeCadence":{"Type":174,"Flags":0,"Description":"Indicates when new cluster runtime version upgrades will be applied after they are released. By default is Wave0. Only applies when **clusterUpgradeMode** is set to \u0027Automatic\u0027."},"addonFeatures":{"Type":179,"Flags":0,"Description":"List of add-on features to enable on the cluster."},"enableAutoOSUpgrade":{"Type":2,"Flags":0,"Description":"Setting this to true enables automatic OS upgrade for the node types that are created using any platform OS image with version \u0027latest\u0027. The default value for this setting is false."},"zonalResiliency":{"Type":2,"Flags":0,"Description":"Indicates if the cluster has zone resiliency."},"applicationTypeVersionsCleanupPolicy":{"Type":180,"Flags":0,"Description":"The policy used to clean up unused versions. When the policy is not specified explicitly, the default unused application versions to keep will be 3."}}}},{"6":{"Value":"WaitingForNodes"}},{"6":{"Value":"Deploying"}},{"6":{"Value":"BaselineUpgrade"}},{"6":{"Value":"Upgrading"}},{"6":{"Value":"UpgradeFailed"}},{"6":{"Value":"Ready"}},{"5":{"Elements":[113,114,115,116,117,118]}},{"3":{"ItemType":4}},{"2":{"Name":"LoadBalancingRule","Properties":{"frontendPort":{"Type":3,"Flags":1,"Description":"The port for the external endpoint. Port numbers for each rule must be unique within the Load Balancer. Acceptable values are between 1 and 65534."},"backendPort":{"Type":3,"Flags":1,"Description":"The port used for internal connections on the endpoint. Acceptable values are between 1 and 65535."},"protocol":{"Type":124,"Flags":1,"Description":"The reference to the transport protocol used by the load balancing rule."},"probePort":{"Type":3,"Flags":0,"Description":"The prob port used by the load balancing rule. Acceptable values are between 1 and 65535."},"probeProtocol":{"Type":128,"Flags":1,"Description":"the reference to the load balancer probe used by the load balancing rule."},"probeRequestPath":{"Type":4,"Flags":0,"Description":"The probe request path. Only supported for HTTP/HTTPS probes."}}}},{"6":{"Value":"tcp"}},{"6":{"Value":"udp"}},{"5":{"Elements":[122,123]}},{"6":{"Value":"tcp"}},{"6":{"Value":"http"}},{"6":{"Value":"https"}},{"5":{"Elements":[125,126,127]}},{"3":{"ItemType":121}},{"2":{"Name":"NetworkSecurityRule","Properties":{"name":{"Type":4,"Flags":1,"Description":"Network security rule name."},"description":{"Type":4,"Flags":0,"Description":"Network security rule description."},"protocol":{"Type":138,"Flags":1,"Description":"Network protocol this rule applies to."},"sourceAddressPrefixes":{"Type":139,"Flags":0,"Description":"The CIDR or source IP ranges."},"destinationAddressPrefixes":{"Type":140,"Flags":0,"Description":"The destination address prefixes. CIDR or destination IP ranges."},"sourcePortRanges":{"Type":141,"Flags":0,"Description":"The source port ranges."},"destinationPortRanges":{"Type":142,"Flags":0,"Description":"The destination port ranges."},"access":{"Type":145,"Flags":1,"Description":"The network traffic is allowed or denied."},"priority":{"Type":3,"Flags":1,"Description":"The priority of the rule. The value can be in the range 1000 to 3000. Values outside this range are reserved for Service Fabric ManagerCluster Resource Provider. The priority number must be unique for each rule in the collection. The lower the priority number, the higher the priority of the rule."},"direction":{"Type":148,"Flags":1,"Description":"Network security rule direction."}}}},{"6":{"Value":"http"}},{"6":{"Value":"https"}},{"6":{"Value":"tcp"}},{"6":{"Value":"udp"}},{"6":{"Value":"icmp"}},{"6":{"Value":"ah"}},{"6":{"Value":"esp"}},{"5":{"Elements":[131,132,133,134,135,136,137]}},{"3":{"ItemType":4}},{"3":{"ItemType":4}},{"3":{"ItemType":4}},{"3":{"ItemType":4}},{"6":{"Value":"allow"}},{"6":{"Value":"deny"}},{"5":{"Elements":[143,144]}},{"6":{"Value":"inbound"}},{"6":{"Value":"outbound"}},{"5":{"Elements":[146,147]}},{"3":{"ItemType":130}},{"2":{"Name":"ClientCertificate","Properties":{"isAdmin":{"Type":2,"Flags":1,"Description":"Indicates if the client certificate has admin access to the cluster. Non admin clients can perform only read only operations on the cluster."},"thumbprint":{"Type":4,"Flags":0,"Description":"Certificate thumbprint."},"commonName":{"Type":4,"Flags":0,"Description":"Certificate common name."},"issuerThumbprint":{"Type":4,"Flags":0,"Description":"Issuer thumbprint for the certificate. Only used together with CommonName."}}}},{"3":{"ItemType":150}},{"2":{"Name":"AzureActiveDirectory","Properties":{"tenantId":{"Type":4,"Flags":0,"Description":"Azure active directory tenant id."},"clusterApplication":{"Type":4,"Flags":0,"Description":"Azure active directory cluster application id."},"clientApplication":{"Type":4,"Flags":0,"Description":"Azure active directory client application id."}}}},{"2":{"Name":"SettingsSectionDescription","Properties":{"name":{"Type":4,"Flags":1,"Description":"The section name of the fabric settings."},"parameters":{"Type":155,"Flags":1,"Description":"The collection of parameters in the section."}}}},{"2":{"Name":"SettingsParameterDescription","Properties":{"name":{"Type":4,"Flags":1,"Description":"The parameter name of fabric setting."},"value":{"Type":4,"Flags":1,"Description":"The parameter value of fabric setting."}}}},{"3":{"ItemType":154}},{"3":{"ItemType":153}},{"6":{"Value":"None"}},{"6":{"Value":"Creating"}},{"6":{"Value":"Created"}},{"6":{"Value":"Updating"}},{"6":{"Value":"Succeeded"}},{"6":{"Value":"Failed"}},{"6":{"Value":"Canceled"}},{"6":{"Value":"Deleting"}},{"6":{"Value":"Deleted"}},{"6":{"Value":"Other"}},{"5":{"Elements":[157,158,159,160,161,162,163,164,165,166]}},{"6":{"Value":"Automatic"}},{"6":{"Value":"Manual"}},{"5":{"Elements":[168,169]}},{"6":{"Value":"Wave0"}},{"6":{"Value":"Wave1"}},{"6":{"Value":"Wave2"}},{"5":{"Elements":[171,172,173]}},{"6":{"Value":"DnsService"}},{"6":{"Value":"BackupRestoreService"}},{"6":{"Value":"ResourceMonitorService"}},{"5":{"Elements":[175,176,177]}},{"3":{"ItemType":178}},{"2":{"Name":"ApplicationTypeVersionsCleanupPolicy","Properties":{"maxUnusedVersionsToKeep":{"Type":3,"Flags":1,"Description":"Number of unused versions per application type to keep."}}}},{"2":{"Name":"Sku","Properties":{"name":{"Type":184,"Flags":1,"Description":"Sku Name."}}}},{"6":{"Value":"Basic"}},{"6":{"Value":"Standard"}},{"5":{"Elements":[182,183]}},{"4":{"Name":"Microsoft.ServiceFabric/managedClusters@2021-05-01","ScopeType":8,"Body":110}},{"6":{"Value":"Microsoft.ServiceFabric/managedClusters/nodeTypes"}},{"2":{"Name":"Microsoft.ServiceFabric/managedClusters/nodeTypes","Properties":{"id":{"Type":4,"Flags":10,"Description":"The resource id"},"name":{"Type":4,"Flags":9,"Description":"The resource name"},"type":{"Type":186,"Flags":10,"Description":"The resource type"},"apiVersion":{"Type":8,"Flags":10,"Description":"The resource api version"},"tags":{"Type":188,"Flags":0,"Description":"Azure resource tags."},"systemData":{"Type":13,"Flags":0,"Description":"Metadata pertaining to creation and last modification of the resource."},"properties":{"Type":189,"Flags":0,"Description":"Describes a node type in the cluster, each node type represents sub set of nodes in the cluster."}}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"NodeTypeProperties","Properties":{"isPrimary":{"Type":2,"Flags":1,"Description":"The node type on which system services will run. Only one node type should be marked as primary. Primary node type cannot be deleted or changed for existing clusters."},"vmInstanceCount":{"Type":3,"Flags":1,"Description":"The number of nodes in the node type."},"dataDiskSizeGB":{"Type":3,"Flags":1,"Description":"Disk size for each vm in the node type in GBs."},"dataDiskType":{"Type":193,"Flags":0},"placementProperties":{"Type":194,"Flags":0,"Description":"The placement tags applied to nodes in the node type, which can be used to indicate where certain services (workload) should run."},"capacities":{"Type":195,"Flags":0,"Description":"The capacity tags applied to the nodes in the node type, the cluster resource manager uses these tags to understand how much resource a node has."},"applicationPorts":{"Type":196,"Flags":0,"Description":"Port range details"},"ephemeralPorts":{"Type":196,"Flags":0,"Description":"Port range details"},"vmSize":{"Type":4,"Flags":0,"Description":"The size of virtual machines in the pool. All virtual machines in a pool are the same size. For example, Standard_D3."},"vmImagePublisher":{"Type":4,"Flags":0,"Description":"The publisher of the Azure Virtual Machines Marketplace image. For example, Canonical or MicrosoftWindowsServer."},"vmImageOffer":{"Type":4,"Flags":0,"Description":"The offer type of the Azure Virtual Machines Marketplace image. For example, UbuntuServer or WindowsServer."},"vmImageSku":{"Type":4,"Flags":0,"Description":"The SKU of the Azure Virtual Machines Marketplace image. For example, 14.04.0-LTS or 2012-R2-Datacenter."},"vmImageVersion":{"Type":4,"Flags":0,"Description":"The version of the Azure Virtual Machines Marketplace image. A value of \u0027latest\u0027 can be specified to select the latest version of an image. If omitted, the default is \u0027latest\u0027."},"vmSecrets":{"Type":201,"Flags":0,"Description":"The secrets to install in the virtual machines."},"vmExtensions":{"Type":205,"Flags":0,"Description":"Set of extensions that should be installed onto the virtual machines."},"vmManagedIdentity":{"Type":206,"Flags":0,"Description":"Identities for the virtual machine scale set under the node type."},"isStateless":{"Type":2,"Flags":0,"Description":"Indicates if the node type can only host Stateless workloads."},"multiplePlacementGroups":{"Type":2,"Flags":0,"Description":"Indicates if scale set associated with the node type can be composed of multiple placement groups."},"provisioningState":{"Type":218,"Flags":2,"Description":"The provisioning state of the managed cluster resource."}}}},{"6":{"Value":"Standard_LRS"}},{"6":{"Value":"StandardSSD_LRS"}},{"6":{"Value":"Premium_LRS"}},{"5":{"Elements":[190,191,192]}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"EndpointRangeDescription","Properties":{"startPort":{"Type":3,"Flags":1,"Description":"Starting port of a range of ports"},"endPort":{"Type":3,"Flags":1,"Description":"End port of a range of ports"}}}},{"2":{"Name":"VaultSecretGroup","Properties":{"sourceVault":{"Type":198,"Flags":1,"Description":"Azure resource identifier."},"vaultCertificates":{"Type":200,"Flags":1,"Description":"The list of key vault references in SourceVault which contain certificates."}}}},{"2":{"Name":"SubResource","Properties":{"id":{"Type":4,"Flags":0,"Description":"Azure resource identifier."}}}},{"2":{"Name":"VaultCertificate","Properties":{"certificateUrl":{"Type":4,"Flags":1,"Description":"This is the URL of a certificate that has been uploaded to Key Vault as a secret. For adding a secret to the Key Vault, see [Add a key or secret to the key vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started/#add). In this case, your certificate needs to be It is the Base64 encoding of the following JSON Object which is encoded in UTF-8: \u003Cbr\u003E\u003Cbr\u003E {\u003Cbr\u003E  \u0022data\u0022:\u0022\u003CBase64-encoded-certificate\u003E\u0022,\u003Cbr\u003E  \u0022dataType\u0022:\u0022pfx\u0022,\u003Cbr\u003E  \u0022password\u0022:\u0022\u003Cpfx-file-password\u003E\u0022\u003Cbr\u003E}"},"certificateStore":{"Type":4,"Flags":1,"Description":"For Windows VMs, specifies the certificate store on the Virtual Machine to which the certificate should be added. The specified certificate store is implicitly in the LocalMachine account. \u003Cbr\u003E\u003Cbr\u003EFor Linux VMs, the certificate file is placed under the /var/lib/waagent directory, with the file name \u003CUppercaseThumbprint\u003E.crt for the X509 certificate file and \u003CUppercaseThumbprint\u003E.prv for private key. Both of these files are .pem formatted."}}}},{"3":{"ItemType":199}},{"3":{"ItemType":197}},{"2":{"Name":"VMSSExtension","Properties":{"name":{"Type":4,"Flags":1,"Description":"The name of the extension."},"properties":{"Type":203,"Flags":1,"Description":"Describes the properties of a Virtual Machine Scale Set Extension."}}}},{"2":{"Name":"VMSSExtensionProperties","Properties":{"publisher":{"Type":4,"Flags":1,"Description":"The name of the extension handler publisher."},"type":{"Type":4,"Flags":1,"Description":"Specifies the type of the extension; an example is \u0022CustomScriptExtension\u0022."},"typeHandlerVersion":{"Type":4,"Flags":1,"Description":"Specifies the version of the script handler."},"autoUpgradeMinorVersion":{"Type":2,"Flags":0,"Description":"Indicates whether the extension should use a newer minor version if one is available at deployment time. Once deployed, however, the extension will not upgrade minor versions unless redeployed, even with this property set to true."},"settings":{"Type":0,"Flags":0,"Description":"Json formatted public settings for the extension."},"protectedSettings":{"Type":0,"Flags":0,"Description":"The extension can contain either protectedSettings or protectedSettingsFromKeyVault or no protected settings at all."},"forceUpdateTag":{"Type":4,"Flags":0,"Description":"If a value is provided and is different from the previous value, the extension handler will be forced to update even if the extension configuration has not changed."},"provisionAfterExtensions":{"Type":204,"Flags":0,"Description":"Collection of extension names after which this extension needs to be provisioned."},"provisioningState":{"Type":4,"Flags":2,"Description":"The provisioning state, which only appears in the response."}}}},{"3":{"ItemType":4}},{"3":{"ItemType":202}},{"2":{"Name":"VmManagedIdentity","Properties":{"userAssignedIdentities":{"Type":207,"Flags":0,"Description":"The list of user identities associated with the virtual machine scale set under the node type. Each entry will be an ARM resource ids in the form: \u0027/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}\u0027."}}}},{"3":{"ItemType":4}},{"6":{"Value":"None"}},{"6":{"Value":"Creating"}},{"6":{"Value":"Created"}},{"6":{"Value":"Updating"}},{"6":{"Value":"Succeeded"}},{"6":{"Value":"Failed"}},{"6":{"Value":"Canceled"}},{"6":{"Value":"Deleting"}},{"6":{"Value":"Deleted"}},{"6":{"Value":"Other"}},{"5":{"Elements":[208,209,210,211,212,213,214,215,216,217]}},{"4":{"Name":"Microsoft.ServiceFabric/managedClusters/nodeTypes@2021-05-01","ScopeType":8,"Body":187}}]

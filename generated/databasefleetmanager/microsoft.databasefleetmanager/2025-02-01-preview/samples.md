# Microsoft.DatabaseFleetManager
  
> [!NOTE]
> The code samples in this document are generated from API usage examples contributed by Resource Providers in their [Azure Rest API specifications](https://github.com/Azure/azure-rest-api-specs). Any issues should be reported and addressed in the source.


## microsoft.databasefleetmanager/fleets

Fleets_CreateOrUpdate_MaximumSet_Gen - generated by [MaximumSet] rule
```bicep
resource exampleResource 'Microsoft.DatabaseFleetManager/fleets@2025-02-01-preview' = {
  name: 'example'
  location: 'East US'
  properties: {
    description: 'Production fleet for high availability and scalability.'
  }
  tags: {
    environment: 'production'
    owner: 'team-database'
  }
}
```

## microsoft.databasefleetmanager/fleets/fleetspaces

Create or Update Fleetspace - Generated by Policy
```bicep
resource exampleResource 'Microsoft.DatabaseFleetManager/fleets/fleetspaces@2025-02-01-preview' = {
  parent: parentResource 
  name: 'example'
  properties: {
    capacityMax: 150000
    mainPrincipal: {
      applicationId: 'd2d8b19e-c4f7-4c62-8e8d-7f0f96d94e39'
      login: 'adminUser'
      objectId: 'f8b7c2d3-b9c4-4f3b-85cd-3d56c6e49f92'
      principalType: 'Application'
      tenantId: 'bde45d44-ec42-45b8-a5a2-c5b998c65ef6'
    }
  }
}
```

## microsoft.databasefleetmanager/fleets/fleetspaces/databases

Create or Update Database in Fleet - Generated by Policy
```bicep
resource exampleResource 'Microsoft.DatabaseFleetManager/fleets/fleetspaces/databases@2025-02-01-preview' = {
  parent: parentResource 
  name: 'example'
  properties: {
    createMode: 'Default'
    identity: {
      federatedClientId: 'a2b3c4d5-6789-0123-4567-89abcdef1234'
      identityType: 'None'
      userAssignedIdentities: [
        {
          clientId: 'a2b3c4d5-6789-0123-4567-89abcdef1234'
          principalId: 'a2b3c4d5-6789-0123-4567-89abcdef1234'
          resourceId: '/subscriptions/12345678-90ab-cdef-1234-567890abcdef/resourceGroups/rg-database-operations/providers/Microsoft.ManagedIdentity/userAssignedIdentities/identity-01'
        }
      ]
    }
    resourceTags: {
      project: 'Customer Data'
    }
    restoreFromTime: '2024-11-06T09:16:05.048Z'
    sourceDatabaseName: 'existing-db-prod'
    tierName: 'Premium'
    transparentDataEncryption: {
      enableAutoRotation: true
      keyUri: 'https://keyvaultname.vault.azure.net/keys/myKey/12345'
      keys: [
        'key1'
      ]
    }
  }
}
```

## microsoft.databasefleetmanager/fleets/fleetspaces/firewallrules

Create or Update Firewall Rule - Generated by Policy
```bicep
resource exampleResource 'Microsoft.DatabaseFleetManager/fleets/fleetspaces/firewallRules@2025-02-01-preview' = {
  parent: parentResource 
  name: 'example'
  properties: {
    endIpAddress: '10.0.0.255'
    startIpAddress: '10.0.0.0'
  }
}
```

## microsoft.databasefleetmanager/fleets/tiers

FleetTiers_CreateOrUpdate_MaximumSet_Gen - generated by [MaximumSet] rule
```bicep
resource exampleResource 'Microsoft.DatabaseFleetManager/fleets/tiers@2025-02-01-preview' = {
  parent: parentResource 
  name: 'example'
  properties: {
    capacity: 4
    databaseCapacityMax: 4
    databaseCapacityMin: 0
    databaseSizeGbMax: 50
    family: 'Gen5'
    highAvailabilityReplicaCount: 5
    poolNumOfDatabasesMax: 10
    pooled: true
    serverless: false
    serviceTier: 'GeneralPurpose'
    zoneRedundancy: 'Disabled'
  }
}
```

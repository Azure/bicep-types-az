# Microsoft.VoiceServices

## microsoft.voiceservices/communicationsgateways

CreateCommunicationsGatewayResource
```bicep
resource exampleResource 'Microsoft.VoiceServices/communicationsGateways@2023-04-03' = {
  name: 'example'
  location: 'useast'
  properties: {
    autoGeneratedDomainNameLabelScope: 'NoReuse'
    codecs: [
      'PCMA'
    ]
    connectivity: 'PublicAddress'
    e911Type: 'Standard'
    platforms: [
      'OperatorConnect'
    ]
    serviceLocations: [
      {
        name: 'useast'
        primaryRegionProperties: {
          allowedMediaSourceAddressPrefixes: [
            '10.1.2.0/24'
          ]
          allowedSignalingSourceAddressPrefixes: [
            '10.1.1.0/24'
          ]
          operatorAddresses: [
            '198.51.100.1'
          ]
        }
      }
      {
        name: 'useast2'
        primaryRegionProperties: {
          allowedMediaSourceAddressPrefixes: [
            '10.2.2.0/24'
          ]
          allowedSignalingSourceAddressPrefixes: [
            '10.2.1.0/24'
          ]
          operatorAddresses: [
            '198.51.100.2'
          ]
        }
      }
    ]
    teamsVoicemailPilotNumber: '1234567890'
  }
}
```

## microsoft.voiceservices/communicationsgateways/testlines

CreateTestLineResource
```bicep
resource exampleResource 'Microsoft.VoiceServices/communicationsGateways/testLines@2023-04-03' = {
  parent: parentResource 
  name: 'example'
  location: 'useast'
  properties: {
    phoneNumber: '+1-555-1234'
    purpose: 'Automated'
  }
}
```

[{"13":{}},{"6":{"Value":"Microsoft.VirtualMachineImages/imageTemplates"}},{"6":{"Value":"2019-02-01-preview"}},{"2":{"Name":"Microsoft.VirtualMachineImages/imageTemplates","Properties":{"id":{"Type":0,"Flags":10,"Description":"The resource id"},"name":{"Type":0,"Flags":9,"Description":"The resource name"},"type":{"Type":1,"Flags":10,"Description":"The resource type"},"apiVersion":{"Type":2,"Flags":10,"Description":"The resource api version"},"properties":{"Type":4,"Flags":0},"location":{"Type":0,"Flags":1,"Description":"Resource location"},"tags":{"Type":63,"Flags":0,"Description":"Resource tags"}}}},{"2":{"Name":"ImageTemplateProperties","Properties":{"source":{"Type":5,"Flags":1,"Description":"Specifies the properties used to describe the source image."},"customize":{"Type":23,"Flags":0,"Description":"Specifies the properties used to describe the customization steps of the image, like Image source etc"},"distribute":{"Type":33,"Flags":1,"Description":"The distribution targets where the image output needs to go to."},"provisioningState":{"Type":38,"Flags":2,"Description":"Provisioning state of the resource"},"provisioningError":{"Type":39,"Flags":2,"Description":"Provisioning error, if any"},"lastRunStatus":{"Type":52,"Flags":2,"Description":"State of 'run' that is currently executing or was last executed."}}}},{"7":{"Name":"ImageTemplateSource","Discriminator":"type","BaseProperties":{},"Elements":{"ISO":6,"ManagedImage":8,"PlatformImage":10}}},{"2":{"Name":"ImageTemplateIsoSource","Properties":{"sourceURI":{"Type":0,"Flags":1,"Description":"URI to get the ISO image. This URI has to be accessible to the resource provider at the time of the image template creation."},"sha256Checksum":{"Type":0,"Flags":1,"Description":"SHA256 Checksum of the ISO image."},"type":{"Type":7,"Flags":1,"Description":"Specifies the type of source image you want to start with."}}}},{"6":{"Value":"ISO"}},{"2":{"Name":"ImageTemplateManagedImageSource","Properties":{"imageId":{"Type":0,"Flags":1,"Description":"ARM resource id of the managed image in customer subscription"},"type":{"Type":9,"Flags":1,"Description":"Specifies the type of source image you want to start with."}}}},{"6":{"Value":"ManagedImage"}},{"2":{"Name":"ImageTemplatePlatformImageSource","Properties":{"publisher":{"Type":0,"Flags":0,"Description":"Image Publisher in [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."},"offer":{"Type":0,"Flags":0,"Description":"Image offer from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."},"sku":{"Type":0,"Flags":0,"Description":"Image sku from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."},"version":{"Type":0,"Flags":0,"Description":"Image version from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."},"type":{"Type":11,"Flags":1,"Description":"Specifies the type of source image you want to start with."}}}},{"6":{"Value":"PlatformImage"}},{"7":{"Name":"ImageTemplateCustomizer","Discriminator":"type","BaseProperties":{"name":{"Type":0,"Flags":0,"Description":"Friendly Name to provide context on what this customization step does"}},"Elements":{"PowerShell":13,"Shell":18,"WindowsRestart":21}}},{"2":{"Name":"ImageTemplatePowerShellCustomizer","Properties":{"script":{"Type":0,"Flags":0,"Description":"The PowerShell script to be run for customizing. It can be a github link, SAS URI for Azure Storage, etc"},"inline":{"Type":14,"Flags":0,"Description":"Array of PowerShell commands to execute"},"validExitCodes":{"Type":16,"Flags":0,"Description":"Valid exit codes for the PowerShell script. [Default: 0]"},"type":{"Type":17,"Flags":1,"Description":"The type of customization tool you want to use on the Image. For example, \"Shell\" can be shell customizer"}}}},{"3":{"ItemType":0}},{"12":{}},{"3":{"ItemType":15}},{"6":{"Value":"PowerShell"}},{"2":{"Name":"ImageTemplateShellCustomizer","Properties":{"script":{"Type":0,"Flags":0,"Description":"The shell script to be run for customizing. It can be a github link, SAS URI for Azure Storage, etc"},"inline":{"Type":19,"Flags":0,"Description":"Array of shell commands to execute"},"type":{"Type":20,"Flags":1,"Description":"The type of customization tool you want to use on the Image. For example, \"Shell\" can be shell customizer"}}}},{"3":{"ItemType":0}},{"6":{"Value":"Shell"}},{"2":{"Name":"ImageTemplateRestartCustomizer","Properties":{"restartCommand":{"Type":0,"Flags":0,"Description":"Command to execute the restart [Default: 'shutdown /r /f /t 0 /c \"packer restart\"']"},"restartCheckCommand":{"Type":0,"Flags":0,"Description":"Command to check if restart succeeded [Default: '']"},"restartTimeout":{"Type":0,"Flags":0,"Description":"Restart timeout specified as a string of magnitude and unit, e.g. '5m' (5 minutes) or '2h' (2 hours) [Default: '5m']"},"type":{"Type":22,"Flags":1,"Description":"The type of customization tool you want to use on the Image. For example, \"Shell\" can be shell customizer"}}}},{"6":{"Value":"WindowsRestart"}},{"3":{"ItemType":12}},{"7":{"Name":"ImageTemplateDistributor","Discriminator":"type","BaseProperties":{"runOutputName":{"Type":0,"Flags":1,"Description":"The name to be used for the associated RunOutput."},"artifactTags":{"Type":25,"Flags":0,"Description":"Tags that will be applied to the artifact once it has been created/updated by the distributor."}},"Elements":{"ManagedImage":26,"SharedImage":28,"VHD":31}}},{"2":{"Name":"ImageTemplateDistributorArtifactTags","Properties":{},"AdditionalProperties":0}},{"2":{"Name":"ImageTemplateManagedImageDistributor","Properties":{"imageId":{"Type":0,"Flags":1,"Description":"Resource Id of the Managed Disk Image"},"location":{"Type":0,"Flags":1,"Description":"Azure location for the image, should match if image already exists"},"type":{"Type":27,"Flags":1,"Description":"Type of distribution."}}}},{"6":{"Value":"ManagedImage"}},{"2":{"Name":"ImageTemplateSharedImageDistributor","Properties":{"galleryImageId":{"Type":0,"Flags":1,"Description":"Resource Id of the Shared Image Gallery image"},"replicationRegions":{"Type":29,"Flags":1},"type":{"Type":30,"Flags":1,"Description":"Type of distribution."}}}},{"3":{"ItemType":0}},{"6":{"Value":"SharedImage"}},{"2":{"Name":"ImageTemplateVhdDistributor","Properties":{"type":{"Type":32,"Flags":1,"Description":"Type of distribution."}}}},{"6":{"Value":"VHD"}},{"3":{"ItemType":24}},{"6":{"Value":"Creating"}},{"6":{"Value":"Succeeded"}},{"6":{"Value":"Failed"}},{"6":{"Value":"Deleting"}},{"5":{"Elements":[34,35,36,37,0]}},{"2":{"Name":"ProvisioningError","Properties":{"provisioningErrorCode":{"Type":51,"Flags":0,"Description":"Error code of the provisioning failure"},"message":{"Type":0,"Flags":0,"Description":"Verbose error message about the provisioning failure"}}}},{"6":{"Value":"BadSourceType"}},{"6":{"Value":"BadPIRSource"}},{"6":{"Value":"BadISOSource"}},{"6":{"Value":"BadManagedImageSource"}},{"6":{"Value":"BadCustomizerType"}},{"6":{"Value":"UnsupportedCustomizerType"}},{"6":{"Value":"NoCustomizerScript"}},{"6":{"Value":"BadDistributeType"}},{"6":{"Value":"BadSharedImageDistribute"}},{"6":{"Value":"ServerError"}},{"6":{"Value":"Other"}},{"5":{"Elements":[40,41,42,43,44,45,46,47,48,49,50,0]}},{"2":{"Name":"ImageTemplateLastRunStatus","Properties":{"startTime":{"Type":0,"Flags":0,"Description":"Start time of the last run (UTC)"},"endTime":{"Type":0,"Flags":0,"Description":"End time of the last run (UTC)"},"runState":{"Type":57,"Flags":0,"Description":"State of the last run"},"runSubState":{"Type":62,"Flags":0,"Description":"Sub-state of the last run"},"message":{"Type":0,"Flags":0,"Description":"Verbose information about the last run state"}}}},{"6":{"Value":"Running"}},{"6":{"Value":"Succeeded"}},{"6":{"Value":"PartiallySucceeded"}},{"6":{"Value":"Failed"}},{"5":{"Elements":[53,54,55,56,0]}},{"6":{"Value":"Queued"}},{"6":{"Value":"Building"}},{"6":{"Value":"Customizing"}},{"6":{"Value":"Distributing"}},{"5":{"Elements":[58,59,60,61,0]}},{"2":{"Name":"ResourceTags","Properties":{},"AdditionalProperties":0}},{"4":{"Name":"Microsoft.VirtualMachineImages/imageTemplates@2019-02-01-preview","ScopeType":8,"Body":3,"Flags":0}}]
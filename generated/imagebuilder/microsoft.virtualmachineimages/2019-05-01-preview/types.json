[{"1":{"Kind":1}},{"1":{"Kind":2}},{"1":{"Kind":3}},{"1":{"Kind":4}},{"1":{"Kind":5}},{"1":{"Kind":6}},{"1":{"Kind":7}},{"1":{"Kind":8}},{"6":{"Value":"2019-05-01-preview"}},{"3":{"ItemType":7}},{"6":{"Value":"Microsoft.VirtualMachineImages/imageTemplates"}},{"2":{"Name":"Microsoft.VirtualMachineImages/imageTemplates","Properties":{"id":{"Type":4,"Flags":10,"Description":"The resource id"},"name":{"Type":4,"Flags":9,"Description":"The resource name"},"type":{"Type":10,"Flags":10,"Description":"The resource type"},"apiVersion":{"Type":8,"Flags":10,"Description":"The resource api version"},"location":{"Type":4,"Flags":1,"Description":"Resource location"},"tags":{"Type":12,"Flags":0,"Description":"Resource tags"},"properties":{"Type":13,"Flags":0,"Description":"Describes the properties of an image template"},"identity":{"Type":77,"Flags":0,"Description":"Identity for the image template."}}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"2":{"Name":"ImageTemplateProperties","Properties":{"source":{"Type":14,"Flags":1,"Description":"Describes a virtual machine image source for building, customizing and distributing"},"customize":{"Type":35,"Flags":0,"Description":"Specifies the properties used to describe the customization steps of the image, like Image source etc"},"distribute":{"Type":44,"Flags":1,"Description":"The distribution targets where the image output needs to go to."},"provisioningState":{"Type":50,"Flags":2,"Description":"Provisioning state of the resource."},"provisioningError":{"Type":51,"Flags":2,"Description":"Describes the error happened when create or update an image template"},"lastRunStatus":{"Type":65,"Flags":2,"Description":"Describes the latest status of running an image template"},"buildTimeoutInMinutes":{"Type":3,"Flags":0,"Description":"Maximum duration to wait while building the image template. Omit or specify 0 to use the default (4 hours)."},"vmProfile":{"Type":76,"Flags":0,"Description":"Describes the virtual machine used to build, customize and capture images"}}}},{"7":{"Name":"ImageTemplateSource","Discriminator":"type","BaseProperties":{},"Elements":{"ISO":15,"PlatformImage":17,"ManagedImage":19,"SharedImageVersion":21}}},{"2":{"Name":"ISO","Properties":{"sourceUri":{"Type":4,"Flags":1,"Description":"URI to get the ISO image. This URI has to be accessible to the resource provider at the time of the image template creation."},"sha256Checksum":{"Type":4,"Flags":1,"Description":"SHA256 Checksum of the ISO image."},"type":{"Type":16,"Flags":1,"Description":"Describes an image source that is an installation ISO. Currently only supports Red Hat Enterprise Linux 7.2-7.5 ISO\u0027s."}}}},{"6":{"Value":"ISO"}},{"2":{"Name":"PlatformImage","Properties":{"publisher":{"Type":4,"Flags":0,"Description":"Image Publisher in [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."},"offer":{"Type":4,"Flags":0,"Description":"Image offer from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."},"sku":{"Type":4,"Flags":0,"Description":"Image sku from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."},"version":{"Type":4,"Flags":0,"Description":"Image version from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."},"type":{"Type":18,"Flags":1,"Description":"Describes an image source from [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages)."}}}},{"6":{"Value":"PlatformImage"}},{"2":{"Name":"ManagedImage","Properties":{"imageId":{"Type":4,"Flags":1,"Description":"ARM resource id of the managed image in customer subscription"},"type":{"Type":38,"Flags":1,"Description":"Distribute as a Managed Disk Image."}}}},{"6":{"Value":"ManagedImage"}},{"2":{"Name":"SharedImageVersion","Properties":{"imageVersionId":{"Type":4,"Flags":1,"Description":"ARM resource id of the image version in the shared image gallery"},"type":{"Type":22,"Flags":1,"Description":"Describes an image source that is an image version in a shared image gallery."}}}},{"6":{"Value":"SharedImageVersion"}},{"7":{"Name":"ImageTemplateCustomizer","Discriminator":"type","BaseProperties":{"name":{"Type":4,"Flags":0,"Description":"Friendly Name to provide context on what this customization step does"}},"Elements":{"Shell":24,"WindowsRestart":27,"PowerShell":29,"File":33}}},{"2":{"Name":"Shell","Properties":{"scriptUri":{"Type":4,"Flags":0,"Description":"URI of the shell script to be run for customizing. It can be a github link, SAS URI for Azure Storage, etc"},"sha256Checksum":{"Type":4,"Flags":0,"Description":"SHA256 checksum of the shell script provided in the scriptUri field"},"inline":{"Type":25,"Flags":0,"Description":"Array of shell commands to execute"},"type":{"Type":26,"Flags":1,"Description":"Runs a shell script during the customization phase (Linux). Corresponds to Packer shell provisioner. Exactly one of \u0027scriptUri\u0027 or \u0027inline\u0027 can be specified."}}}},{"3":{"ItemType":4}},{"6":{"Value":"Shell"}},{"2":{"Name":"WindowsRestart","Properties":{"restartCommand":{"Type":4,"Flags":0,"Description":"Command to execute the restart [Default: \u0027shutdown /r /f /t 0 /c \u0022packer restart\u0022\u0027]"},"restartCheckCommand":{"Type":4,"Flags":0,"Description":"Command to check if restart succeeded [Default: \u0027\u0027]"},"restartTimeout":{"Type":4,"Flags":0,"Description":"Restart timeout specified as a string of magnitude and unit, e.g. \u00275m\u0027 (5 minutes) or \u00272h\u0027 (2 hours) [Default: \u00275m\u0027]"},"type":{"Type":28,"Flags":1,"Description":"Reboots a VM and waits for it to come back online (Windows). Corresponds to Packer windows-restart provisioner"}}}},{"6":{"Value":"WindowsRestart"}},{"2":{"Name":"PowerShell","Properties":{"scriptUri":{"Type":4,"Flags":0,"Description":"URI of the PowerShell script to be run for customizing. It can be a github link, SAS URI for Azure Storage, etc"},"sha256Checksum":{"Type":4,"Flags":0,"Description":"SHA256 checksum of the power shell script provided in the scriptUri field above"},"inline":{"Type":30,"Flags":0,"Description":"Array of PowerShell commands to execute"},"runElevated":{"Type":2,"Flags":0,"Description":"If specified, the PowerShell script will be run with elevated privileges"},"validExitCodes":{"Type":31,"Flags":0,"Description":"Valid exit codes for the PowerShell script. [Default: 0]"},"type":{"Type":32,"Flags":1,"Description":"Runs the specified PowerShell on the VM (Windows). Corresponds to Packer powershell provisioner. Exactly one of \u0027scriptUri\u0027 or \u0027inline\u0027 can be specified."}}}},{"3":{"ItemType":4}},{"3":{"ItemType":3}},{"6":{"Value":"PowerShell"}},{"2":{"Name":"File","Properties":{"sourceUri":{"Type":4,"Flags":0,"Description":"The URI of the file to be uploaded for customizing the VM. It can be a github link, SAS URI for Azure Storage, etc"},"sha256Checksum":{"Type":4,"Flags":0,"Description":"SHA256 checksum of the file provided in the sourceUri field above"},"destination":{"Type":4,"Flags":0,"Description":"The absolute path to a file (with nested directory structures already created) where the file (from sourceUri) will be uploaded to in the VM"},"type":{"Type":34,"Flags":1,"Description":"Uploads files to VMs (Linux, Windows). Corresponds to Packer file provisioner"}}}},{"6":{"Value":"File"}},{"3":{"ItemType":23}},{"7":{"Name":"ImageTemplateDistributor","Discriminator":"type","BaseProperties":{"runOutputName":{"Type":4,"Flags":1,"Description":"The name to be used for the associated RunOutput."},"artifactTags":{"Type":37,"Flags":0,"Description":"Tags that will be applied to the artifact once it has been created/updated by the distributor."}},"Elements":{"ManagedImage":19,"SharedImage":39,"VHD":42}}},{"2":{"Name":"Dictionary\u003Cstring,String\u003E","Properties":{},"AdditionalProperties":4}},{"6":{"Value":"ManagedImage"}},{"2":{"Name":"SharedImage","Properties":{"galleryImageId":{"Type":4,"Flags":1,"Description":"Resource Id of the Shared Image Gallery image"},"replicationRegions":{"Type":40,"Flags":1,"Description":"A list of regions that the image will be replicated to"},"type":{"Type":41,"Flags":1,"Description":"Distribute via Shared Image Gallery."}}}},{"3":{"ItemType":4}},{"6":{"Value":"SharedImage"}},{"2":{"Name":"VHD","Properties":{"type":{"Type":43,"Flags":1,"Description":"Distribute via VHD in a storage account."}}}},{"6":{"Value":"VHD"}},{"3":{"ItemType":36}},{"6":{"Value":"Creating"}},{"6":{"Value":"Updating"}},{"6":{"Value":"Succeeded"}},{"6":{"Value":"Failed"}},{"6":{"Value":"Deleting"}},{"5":{"Elements":[45,46,47,48,49]}},{"2":{"Name":"ProvisioningError","Properties":{"provisioningErrorCode":{"Type":64,"Flags":0,"Description":"Error code of the provisioning failure."},"message":{"Type":4,"Flags":0,"Description":"Verbose error message about the provisioning failure"}}}},{"6":{"Value":"BadSourceType"}},{"6":{"Value":"BadPIRSource"}},{"6":{"Value":"BadISOSource"}},{"6":{"Value":"BadManagedImageSource"}},{"6":{"Value":"BadSharedImageVersionSource"}},{"6":{"Value":"BadCustomizerType"}},{"6":{"Value":"UnsupportedCustomizerType"}},{"6":{"Value":"NoCustomizerScript"}},{"6":{"Value":"BadDistributeType"}},{"6":{"Value":"BadSharedImageDistribute"}},{"6":{"Value":"ServerError"}},{"6":{"Value":"Other"}},{"5":{"Elements":[52,53,54,55,56,57,58,59,60,61,62,63]}},{"2":{"Name":"ImageTemplateLastRunStatus","Properties":{"startTime":{"Type":4,"Flags":0,"Description":"Start time of the last run (UTC)"},"endTime":{"Type":4,"Flags":0,"Description":"End time of the last run (UTC)"},"runState":{"Type":70,"Flags":0,"Description":"State of the last run."},"runSubState":{"Type":75,"Flags":0,"Description":"Sub-state of the last run."},"message":{"Type":4,"Flags":0,"Description":"Verbose information about the last run state"}}}},{"6":{"Value":"Running"}},{"6":{"Value":"Succeeded"}},{"6":{"Value":"PartiallySucceeded"}},{"6":{"Value":"Failed"}},{"5":{"Elements":[66,67,68,69]}},{"6":{"Value":"Queued"}},{"6":{"Value":"Building"}},{"6":{"Value":"Customizing"}},{"6":{"Value":"Distributing"}},{"5":{"Elements":[71,72,73,74]}},{"2":{"Name":"ImageTemplateVmProfile","Properties":{"vmSize":{"Type":4,"Flags":0,"Description":"Size of the virtual machine used to build, customize and capture images. Omit or specify empty string to use the default (Standard_D1_v2)."}}}},{"2":{"Name":"ImageTemplateIdentity","Properties":{"type":{"Type":80,"Flags":0,"Description":"The type of identity used for the image template. The type \u0027None\u0027 will remove any identities from the image template."},"userAssignedIdentities":{"Type":82,"Flags":0,"Description":"The list of user identities associated with the image template. The user identity dictionary key references will be ARM resource ids in the form: \u0027/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}\u0027."}}}},{"6":{"Value":"UserAssigned"}},{"6":{"Value":"None"}},{"5":{"Elements":[78,79]}},{"2":{"Name":"schemas:20_userAssignedIdentitiesValue","Properties":{"principalId":{"Type":4,"Flags":2,"Description":"The principal id of user assigned identity."},"clientId":{"Type":4,"Flags":2,"Description":"The client id of user assigned identity."}}}},{"2":{"Name":"Dictionary\u003Cstring,Schemas20UserAssignedIdentitiesValue\u003E","Properties":{},"AdditionalProperties":81}},{"4":{"Name":"Microsoft.VirtualMachineImages/imageTemplates@2019-05-01-preview","ScopeType":8,"Body":11}}]
